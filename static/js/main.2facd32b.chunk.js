(this.webpackJsonpNearby_Satellite_Tracker=this.webpackJsonpNearby_Satellite_Tracker||[]).push([[0],{172:function(e,t,a){},334:function(e,t,a){},335:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),i=a(6),r=a.n(i),c=(a(172),a(22)),o=a(23),l=a(27),d=a(29),u=(a.p,a(5)),h=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(u.jsx)("header",{className:"App-header",children:Object(u.jsx)("div",{className:"title",children:"Nearby Satellite Tracker"})})}}]),a}(n.Component),j=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(u.jsx)("footer",{className:"footer",children:"@2021 Humble Catalyst . All Rights Reserved. Made with \u2764 by Sarowar Jahan."})}}]),a}(s.a.Component),p=a(164),b=a(55),f=a(349),g=a(352),m=a(353),O=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).showSatellite=function(t){t.preventDefault(),e.props.form.validateFields((function(t,a){t||e.props.onShow(a)}))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return Object(u.jsxs)(f.a,Object(b.a)(Object(b.a)({},{labelCol:{xs:{span:24},sm:{span:11}},wrapperCol:{xs:{span:24},sm:{span:13}}}),{},{className:"sat-setting",onSubmit:this.showSatellite,children:[Object(u.jsxs)("div",{className:"setting-fields",children:[Object(u.jsx)(f.a.Item,{label:"Longitude(degrees)",children:e("longitude",{rules:[{required:!0,message:"Please input your longitude"}]})(Object(u.jsx)(g.a,{min:-180,max:180,style:{width:"100%"},placeholder:"Please input longitude"}))}),Object(u.jsx)(f.a.Item,{label:"Latitude(degrees)",children:e("latitude",{rules:[{required:!0,message:"Please input your latitude"}]})(Object(u.jsx)(g.a,{min:-90,max:90,style:{width:"100%"},placeholder:"Please input latitude"}))}),Object(u.jsx)(f.a.Item,{label:"Elevation(degrees)",children:e("elevation",{rules:[{required:!0,message:"Please input your elevation"}]})(Object(u.jsx)(g.a,{min:-413,max:8850,style:{width:"100%"},placeholder:"Please input elevation"}))}),Object(u.jsx)(f.a.Item,{label:"Altitude(degrees)",children:e("altitude",{rules:[{required:!0,message:"Please input your altitude"}]})(Object(u.jsx)(g.a,{min:0,max:90,style:{width:"100%"},placeholder:"Please input altitude"}))}),Object(u.jsx)(f.a.Item,{label:"Duration(secs)",children:e("duration",{rules:[{required:!0,message:"Please input your duration"}]})(Object(u.jsx)(g.a,{min:0,max:90,style:{width:"100%"},placeholder:"Please input duration"}))})]}),Object(u.jsx)(f.a.Item,{className:"show-nearby",children:Object(u.jsx)(m.a,{style:{marginLeft:100,textAlign:"center",background:"linear-gradient(to left, #282c34, #1b528d)",color:"#fff",marginBottom:"10px"},htmlType:"submit",children:"Find Your Nearby Satellites!"})})]}))}}]),a}(s.a.Component),x=f.a.create({name:"satellite-setting"})(O),v=a(155),y=a(347),w=a(354),S=a(342),k=a.p+"static/media/satellite.f6a4a4f1.png",L=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).onChange=function(t){console.log(t.target);var a=t.target,n=a.dataInfo,s=a.checked,i=e.state.selected,r=e.addOrRemove(n,s,i);e.setState({selected:r})},e.addOrRemove=function(e,t,a){var n=a.some((function(t){return t.satid===e.satid}));return t&&!n&&a.push(e),!t&&n&&(a=a.filter((function(t){return t.satid!==e.satid}))),a},e.onShowSatMap=function(){e.props.onShowMap(e.state.selected)},e.state={selected:[],isLoad:!1},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.satInfo?this.props.satInfo.above:[],a=this.props.isLoading.isLoad;return Object(u.jsxs)("div",{className:"sat-list-box",children:[Object(u.jsx)(m.a,{className:"sat-list-btn",style:{textAlign:"center",background:"linear-gradient(to left, #282c34, #1b528d)",color:"#fff",margin:"10px"},onClick:this.onShowSatMap,children:"Track that Satellite on the Map"}),Object(u.jsx)("hr",{color:"#0a2a56",size:"1",width:"150px"}),Object(u.jsx)("br",{}),a?Object(u.jsx)("div",{className:"spin-box",children:Object(u.jsx)(v.a,{tip:"Loading...",size:"large"})}):Object(u.jsx)(y.a,{className:"sat-list",itemLayout:"horizontal",size:"small",dataSource:t,renderItem:function(t){return Object(u.jsx)(y.a.Item,{actions:[Object(u.jsx)(w.a,{dataInfo:t,onChange:e.onChange})],children:Object(u.jsx)(y.a.Item.Meta,{avatar:Object(u.jsx)(S.a,{size:50,src:k}),title:Object(u.jsx)("p",{children:t.satname}),description:"Launch Date: ".concat(t.launchDate)})})}})]})}}]),a}(s.a.Component),N=a(344),I=a(345),C=a(69),D=a.n(C),P="8SH8GT-29KQ2R-73CVJV-4NSE",M=a(163),T=a(348),A=a(357),E=a(351),R=a(346),z=a(356),B=a(355),q=a(350),H=1180,J=760,_=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).track=function(t){if(0===t.length||!t[0].hasOwnProperty("positions"))throw new Error("no position data");var a=t[0].positions.length,n=e.map.context2,s=new Date,i=0,r=setInterval((function(){var c=new Date,o=0===i?0:c-s,l=new Date(s.getTime()+60*o);if(n.clearRect(0,0,H,J),n.font="bold 12px 'PT Sans Caption', sans-serif",n.marginTop="100px",n.fillStyle="#282c34",n.textAlign="center",n.fillText(Object(q.a)(l),590,80),i>=a)return clearInterval(r),e.setState({isDrawing:!1}),void(document.getElementsByClassName("hint")[0].innerHTML="");t.forEach((function(t){var a=t.info,n=t.positions;e.drawSat(a,n[i])})),i+=60}),1e3)},e.drawSat=function(t,a){var n=a.satlongitude,s=a.satlatitude;if(n&&s){var i=t.satname.match(/\d+/g).join(""),r=e.map,c=r.projection,o=r.context2,l=c([n,s]);o.fillStyle=e.color(i),o.beginPath(),o.arc(l[0],l[1],4,0,2*Math.PI),o.fill(),o.font="bold 12px 'PT Sans Caption' sans-serif",o.textAlign="center",o.marginTop="100px",o.fillText(i,l[0],l[1]+14)}},e.state={isLoading:!1,isDrawing:!1},e.map=null,e.color=B.a(z.a),e.refMap=s.a.createRef(),e.refTrack=s.a.createRef(),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;D.a.get("https://unpkg.com/world-atlas@1/world/110m.json").then((function(t){var a=t.data;console.log(a);var n=Object(M.a)(a,a.objects.countries).features;console.log(n),e.generateMap(n)})).catch((function(e){console.log("err in fetch world map data: ",e)}))}},{key:"componentDidUpdate",value:function(e,t,a){var n=this;if(e.satData!==this.props.satData){var s=this.props.observerData,i=s.latitude,r=s.longitude,c=s.elevation,o=60*s.duration;this.setState({isLoading:!0});var l=this.props.satData.map((function(e){var t=e.satid,a="/api/".concat("rest/v1/satellite/positions","/").concat(t,"/").concat(i,"/").concat(r,"/").concat(c,"/").concat(o,"/&apiKey=").concat(P);return D.a.get(a)}));Promise.all(l).then((function(e){console.log(e);var a=e.map((function(e){return e.data}));(n.setState({isLoading:!1,isDrawing:!0}),t.isDrawing)?document.getElementsByClassName("hint")[0].innerHTML="We are collecting information .Please wait before adding new one":n.track(a)})).catch((function(e){console.log("err in fetch satellite position: ",e.message)}))}}},{key:"generateMap",value:function(e){var t=Object(T.a)().scale(200).translate([590,380]).precision(.1),a=Object(A.a)(),n=Object(R.a)(this.refMap.current).attr("width",H).attr("height",J),s=Object(R.a)(this.refTrack.current).attr("width",H).attr("height",J),i=n.node().getContext("2d"),r=s.node().getContext("2d"),c=Object(E.a)().projection(t).context(i);console.log(c),e.forEach((function(e){i.fillStyle="#020c1c",i.strokeStyle="#fff",i.globalAlpha=.8,i.beginPath(),c(e),i.fill(),i.stroke(),i.strokeStyle="rgba(220, 220, 220, 0.8)",i.beginPath(),c(a()),i.lineWidth=.1,i.stroke(),i.beginPath(),i.lineWidth=.1,c(a.outline()),i.stroke()})),this.map={context:i,context2:r,projection:t,graticule:a}}},{key:"render",value:function(){var e=this.state.isLoading;return Object(u.jsxs)("div",{className:"map-box",children:[e?Object(u.jsx)("div",{className:"spinner",children:Object(u.jsx)(v.a,{tip:"Loading...",size:"large"})}):null,Object(u.jsx)("canvas",{className:"map",ref:this.refMap}),Object(u.jsx)("canvas",{className:"track",ref:this.refTrack}),Object(u.jsx)("div",{className:"hint"})]})}}]),a}(s.a.Component),F=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).showNearBySatellite=function(t){e.setState({setting:t}),e.fetchSatellite(t)},e.fetchSatellite=function(t){var a=t.latitude,n=t.longitude,s=t.elevation,i=t.altitude,r="/api/".concat("rest/v1/satellite/above","/").concat(a,"/").concat(n,"/").concat(s,"/").concat(i,"/").concat("52","/&apiKey=").concat(P);e.setState({isLoadingList:!0}),D.a.get(r).then((function(t){console.log("res ->",t),e.setState({satInfo:t.data,isLoadingList:!1})})).catch((function(e){console.log("err in fetch satellite ->",e)}))},e.showMap=function(t){console.log("show on the map"),e.setState((function(e){return Object(b.a)(Object(b.a)({},e),{},{satList:Object(p.a)(t)})}))},e.state={satInfo:null,satList:null,setting:null,isLoadingList:!1},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.satInfo,a=e.satList,n=e.setting,s=e.isLoadingList;return Object(u.jsxs)(N.a,{className:"main",children:[Object(u.jsx)(I.a,{span:8,children:Object(u.jsxs)("div",{className:"left-side",children:[Object(u.jsx)(x,{onShow:this.showNearBySatellite}),Object(u.jsx)(L,{satInfo:t,isLoading:s,onShowMap:this.showMap})]})}),Object(u.jsx)(I.a,{span:16,className:"right-side",children:Object(u.jsx)(_,{satData:a,observerData:n})})]})}}]),a}(s.a.Component);a(334);var K=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(h,{}),Object(u.jsx)(F,{}),Object(u.jsx)(j,{})]})};r.a.render(Object(u.jsx)(K,{}),document.getElementById("root"))}},[[335,1,2]]]);
//# sourceMappingURL=main.2facd32b.chunk.js.map